<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{admin/layout}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>차량 관리</title>
  <style>
    .car-image {
      width: 150px;
      height: auto;
    }
  </style>
</head>

<body>
<div layout:fragment="content" class="content"> <!-- 타임리프 문법: layout:fragment -->
  <h1 class="mb-4">차량 관리</h1>

  <!-- 검색 영역 -->
  <div class="row mb-4">
    <div class="col-md-6">
      <form class="input-group" method="GET" action="/admin/cars/search"> <!-- 타임리프 문법: th:action -->
        <input type="text" class="form-control" placeholder="차량 번호판으로 검색 (예: 303누7499)"
               aria-label="Search" name="licensePlate" id="licensePlate"
               th:value="${searchKeyword}"> <!-- 타임리프 문법: th:value -->
        <button class="btn btn-primary" type="submit">검색</button>
      </form>
    </div>
  </div>

  <!-- 차량 목록 테이블 -->
  <div class="table-responsive">
    <h2 class="mb-3">등록된 차량 목록</h2>
    <table class="table table-striped table-hover align-middle">
      <thead class="table-dark">
      <tr>
        <th>이미지</th>
        <th>브랜드</th>
        <th>모델</th>
        <th>연식</th>
        <th>주행거리</th>
        <th>가격</th>
        <th>번호판</th>
        <th>등록일자</th>
        <th>상태</th>
        <th>상세 정보</th>
      </tr>
      </thead>
      <tbody>
      <!-- Mock 데이터 -->
      <tr>
        <td>
          <img src="https://certified-static.hyundai.com/contents/goods/shootConts/tobepic/02/exterior/GJK240903008701/PRD602_233.JPG/dims/crop/2304x1536+600+770/resize/380x253/optimize"
               alt="Car Image" class="img-thumbnail car-image">
        </td>
        <td>현대</td>
        <td>투싼</td>
        <td>2022</td>
        <td>48,537 km</td>
        <td>2390만원</td>
        <td>303누7499</td>
        <td>2022-09-01</td>
        <td><span class="badge bg-success">판매 중</span></td>
        <td>
          <a href="/admin/car/details/1" class="btn btn-info btn-sm">보기</a> <!-- 타임리프 문법: th:href -->
        </td>
      </tr>
      <tr>
        <td>
          <img src="https://certified-static.hyundai.com/contents/goods/shootConts/tobepic/02/exterior/GJK240903008702/PRD602_234.JPG/dims/crop/2304x1536+600+770/resize/380x253/optimize"
               alt="Car Image" class="img-thumbnail car-image">
        </td>
        <td>기아</td>
        <td>스포티지</td>
        <td>2023</td>
        <td>32,500 km</td>
        <td>2750만원</td>
        <td>504다6321</td>
        <td>2023-05-15</td>
        <td><span class="badge bg-warning">판매 대기</span></td>
        <td>
          <a href="/admin/car/details/2" class="btn btn-info btn-sm">보기</a> <!-- 타임리프 문법: th:href -->
        </td>
      </tr>

      <!-- 타임리프 문법 -->
      <!--
      <tr th:each="car : ${cars}">
        <td>
          <img th:src="${car.imageUrl}" alt="Car Image" class="img-thumbnail car-image">
        </td>
        <td th:text="${car.brand}">브랜드</td>
        <td th:text="${car.model}">모델</td>
        <td th:text="${car.modelYear}">연식</td>
        <td th:text="${car.mileage + ' km'}">주행거리</td>
        <td th:text="${car.price + '만원'}">가격</td>
        <td th:text="${car.licensePlate}">번호판</td>
        <td th:text="${#dates.format(car.registrationDate, 'yyyy-MM-dd')}">등록일자</td>
        <td>
          <span th:classappend="${car.status == '판매 중' ? 'bg-success' : 'bg-warning'} badge">
            <span th:text="${car.status}">상태</span>
          </span>
        </td>
        <td>
          <a th:href="@{/admin/car/details/{id}(id=${car.id})}" class="btn btn-info btn-sm">보기</a>
        </td>
      </tr>
      -->
      </tbody>
    </table>
  </div>
</div>

</body>
</html>
