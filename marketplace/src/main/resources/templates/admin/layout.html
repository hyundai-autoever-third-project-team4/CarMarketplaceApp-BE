<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title th:layoutTitle="${pageTitle}">차자바 관리자 페이지</title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      /* Body에 상단 패딩 추가 (헤더 높이만큼) */
      padding-top: 56px; /* Bootstrap 기본 navbar 높이 */
    }

    /* 상단 고정 navbar */
    .navbar {
      z-index: 1030; /* Bootstrap의 fixed-top navbar 기본 z-index */
    }

    /* 왼쪽 메뉴 선택바 */
    .sidebar {
      height: calc(100vh - 56px); /* 헤더 높이 제외 */
      width: 200px;
      position: fixed;
      top: 56px; /* 헤더 높이와 동일 */
      left: 0;
      background-color: #343a40;
      color: white;
      padding-top: 20px;
      overflow-y: auto; /* 사이드바 내용이 많을 경우 스크롤 */
      z-index: 1020; /* Navbar보다 낮은 z-index */
    }

    .sidebar a {
      color: white;
      text-decoration: none;
      padding: 10px 15px;
      display: block;
    }

    .sidebar a:hover {
      background-color: #495057;
      text-decoration: none;
    }

    /* 중앙 콘텐츠 */
    .content {
      margin-left: 200px;
      padding: 20px;
      /* 헤더 높이만큼 상단 패딩 추가 */
      /* 이미 body에 padding-top:56px; 이 있으므로 별도 필요 없음 */
    }

    /* 반응형 디자인 */
    @media (max-width: 768px) {
      .sidebar {
        width: 100%;
        height: auto;
        position: relative;
        top: 0;
      }
      .content {
        margin-left: 0;
      }
    }
  </style>
</head>
<body>
<!-- 상단 고정 배너 -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand" href="/admin">차자바 관리자 페이지</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto align-items-center">
        <!-- 사용자 정보 표시 -->
        <li class="nav-item text-white me-3">
          <span th:text="'로그인 사용자: ' + ${adminInfo.email}"></span>
          <small class="text-primary ms-2" th:text="'(' + ${adminInfo.role} + ')'"></small>
        </li>
        <!-- 기존 메뉴 -->
        <li class="nav-item"><a class="nav-link" href="#">로그아웃</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- 왼쪽 메뉴 선택바 -->
<div class="sidebar">
  <a href="/admin">대시보드</a>
  <a href="/admin/tasks">작업 관리</a>
  <a href="/admin/cars">전체 차량 관리</a>
  <a href="/admin/users">사용자 관리</a>
  <a href="/admin/car-purchases">차량 구매 관리</a>
  <a href="/admin/car-sales">차량 판매 관리</a>
  <a href="/admin/reservations">시승 예약 관리</a>
</div>

<!-- 중앙 콘텐츠 -->
<div class="content" layout:fragment="content">
  <h1>Welcome to Admin Page</h1>
  <!-- 여기에 다른 콘텐츠가 들어갑니다 -->
</div>

<!-- Bootstrap JS Bundle (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
